<!DOCTYPE html>
<html>
	<head>
		<meta charset='utf8'>
		<script src="../lib/jquery-3.1.1.min.js"></script>

	</head>
	<body>
		<canvas id="myCanvas" width="640" height="480">
		</canvas>

		<script>

		var Game = {
			canvas : undefined,
			canvasContext : undefined,
			rectanglePosition : 0
		}

		Game.start = function(){
			Game.canvas = document.getElementById('myCanvas');
			Game.canvasContext = Game.canvas.getContext('2d');
			Game.mainLoop();
		}

		Game.mainLoop = function(){
			Game.clearCanvas();
			Game.update();
			Game.draw();
			window.setTimeout(Game.mainLoop,1000/60);
		}

		window.addEventListener('DOMContentLoaded',Game.start);

		Game.draw = function(){
			Game.canvasContext.fillStyle = "red";
			Game.canvasContext.fillRect(Game.rectanglePosition,0,50,50);
		}

		Game.update = function(){
			var d = new Date();
			Game.rectanglePosition = d.getTime()/5 % Game.canvas.width;
		}

		Game.clearCanvas = function(){
			Game.canvasContext.clearRect(0,0,Game.canvas.width,Game.canvas.height);
		}

		


		</script>
	</body>
</html>